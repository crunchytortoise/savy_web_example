<link rel="import" href="/static/polymer/polymer.html">
<link rel="import" href="/static/paper-button/paper-button.html">
<link rel="import" href="/static/paper-input/paper-input-decorator.html">
<link rel="import" href="/static/core-icon/core-icon.html">
<script src="/socket.io/socket.io.js"></script>
<polymer-element name="savvy-element" attributes="">
  <template>
    <link rel="stylesheet" href="savvy-element.css">
    <div horizontal layout end>
      <paper-input-decorator floatingLabel label="Message" value="{{myMsg}}" flex>
        <input type="core-input" id="userInput">
      </paper-input-decorator>
      &nbsp;
      &nbsp;
      <paper-button on-click="{{goLink}}" raised>
        <core-icon raised icon="polymer"></core-icon>
      </paper-button>
      </div>

  </template>
  <script>
    (function () {
      Polymer({
        goLink: (function () {
            //var myMsg = document.getElementById('userInput');
            var myMsg = this.$.userInput.value
            var socket = io.connect('http://localhost:3000');
            socket.emit('send message', {message : myMsg});
            this.$.userInput.value
        })
        // define element prototype here
      });
    })();
  </script>
</polymer-element>
